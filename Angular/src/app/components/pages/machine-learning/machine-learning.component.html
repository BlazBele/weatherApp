<div class="container my-4">
  <div class="row align-items-center mb-4">
    <div class="col">
      <h2 class="mb-0">{{ 'ML' | translate }}</h2>
    </div>
  </div>

  <div class="row">
    <!-- STATUS -->
    <div class="col-md-6 mb-4">
      <div class="card card-theme-border">
        <div class="card-header card-theme-bg text-white d-flex justify-content-between align-items-center">
          <span>{{ 'statusModelInfo' | translate }}</span>
          <button class="btn btn-primary btn-sm" (click)="status()">{{ 'statusModel' | translate }}</button>
        </div>
        <div class="card-body">
          <p><strong>{{ 'modelLoaded' | translate }}:</strong>  {{ modelStatus?.model_loaded ? ('yes' | translate) : ('no' | translate) }} </p>
          <p><strong>{{ 'pathToData' | translate }}:</strong> {{ modelStatus?.data_path || '' }}</p>
          <p><strong>{{ 'timestamp' | translate }}:</strong> {{ modelStatus?.timestamp }}</p>
        </div>
      </div>
    </div>

    <!-- TRENING -->
    <div class="col-md-6 mb-4">
      <div class="card card-theme-border">
        <div class="card-header card-theme-bg text-white d-flex justify-content-between align-items-center">
          <span>{{ 'trainModelInfo' | translate }}</span>
          <button class="btn btn-primary btn-sm" (click)="train()">{{ 'trainModel' | translate }}</button>
        </div>
        <div class="card-body" *ngIf="trainPrediction; else noTrainResult">
          <p *ngIf="trainPrediction?.status !== null && trainPrediction?.status !== undefined">
            <strong>
              {{ trainPrediction.status ? ('statusSuccess' | translate) : ('statusUnsuccessful' | translate) }}
            </strong>
          </p>
          <p><strong>{{ 'accuracy' | translate }}:</strong> {{ trainPrediction.accuracy }}%</p>
          <p><strong>{{ 'timestamp' | translate }}:</strong> {{ trainPrediction.timestamp }}</p>
        </div>
        <ng-template #noTrainResult>
          <div class="card-body">
            <p>{{ 'trainInfo' | translate }}</p>
          </div>
        </ng-template>
      </div>
    </div>
  </div>

  <div class="row mb-4">
    <!-- NAPOVED -->
    <div class="col-md-6">
      <div class="card card-theme-border">
        <div class="card-header card-theme-bg text-white d-flex justify-content-between align-items-center">
          <span>{{ 'predictModelInfo' | translate }}</span>
          <button class="btn btn-primary btn-sm" (click)="predict()">{{ 'predictModel' | translate }}</button>
        </div>
        <div class="card-body" *ngIf="rainPrediction; else noPrediction">
          <p><strong>{{'prediction' | translate }}:</strong> {{ rainPrediction.prediction ? ('rainFalse' | translate) : ('rainTrue' | translate) }}</p>
          <p><strong>{{'probability' | translate}}:</strong> {{ rainPrediction.probability }}%</p>
          <p><strong>{{'timestamp' | translate }}:</strong> {{ rainPrediction.timestamp }}</p>
        </div>
        <ng-template #noPrediction>
          <div class="card-body">
            <p>{{ 'noData' | translate }}</p>
          </div>
        </ng-template>
      </div>
    </div>
  </div>
</div>
