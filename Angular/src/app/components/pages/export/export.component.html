<div class="container">
  <h2>{{'exportData' | translate}}</h2>
  <br>
  <form (ngSubmit)="exportData()" class="mb-4">
    <div class="mb-3 d-flex align-items-center gap-3">
    <label for="rowCount" class="form-label mb-0">{{ 'nOfRowsExport' | translate }}</label>
    <input type="number" id="rowCount" [(ngModel)]="rowCount" name="rowCount" class="form-control w-auto" [disabled]="exportAllRows" min="1" />
    <div class="form-check mb-0">
        <input type="checkbox" class="form-check-input" id="exportAllRows" [(ngModel)]="exportAllRows" name="exportAllRows" />
        <label for="exportAllRows" class="form-check-label mb-0">{{ 'all' | translate }}</label>
    </div>
    </div>

    <div class="mb-3 d-flex align-items-center">
      <label for="sortColumn" class="mb-0 me-2">{{ 'sort' | translate }}</label>
      <select id="sortColumn" class="form-select d-inline-block w-auto" [(ngModel)]="sortColumn" name="sortColumn">
        <option value="created_at">{{ 'date' | translate }}</option>
        <option value="temperature">{{ 'temperature' | translate }}</option>
        <option value="humidity">{{ 'humidity' | translate }}</option>
        <option value="pressure0">{{ 'pressure' | translate }}</option>
        <option value="wind_speed">{{ 'windSpeed' | translate }}</option>
      </select>

      <i
        class="bi ms-2"
        [ngClass]="sortDirection === 'asc' ? 'bi-arrow-up' : 'bi-arrow-down'"
        style="cursor: pointer;"
        (click)="toggleSortDirection()"
        title="Spremeni smer sortiranja"
      ></i>
    </div>

        <div class="mb-3">
        <label class="form-label">{{ 'selectColumns' | translate }}</label><br>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="created_at" value="created_at" [checked]="selectedColumns.includes('created_at')" (change)="toggleColumnManual($event)">
            <label class="form-check-label" for="created_at">{{ 'date' | translate }}</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="temperature" value="temperature" [checked]="selectedColumns.includes('temperature')" (change)="toggleColumnManual($event)">
            <label class="form-check-label" for="temperature">{{ 'temperature' | translate }}</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="humidity" value="humidity" [checked]="selectedColumns.includes('humidity')" (change)="toggleColumnManual($event)">
            <label class="form-check-label" for="humidity">{{ 'humidity' | translate }}</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="pressure0" value="pressure0" [checked]="selectedColumns.includes('pressure0')" (change)="toggleColumnManual($event)">
            <label class="form-check-label" for="pressure0">{{ 'pressure' | translate }}</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="wind_speed" value="wind_speed" [checked]="selectedColumns.includes('wind_speed')" (change)="toggleColumnManual($event)">
            <label class="form-check-label" for="wind_speed">{{ 'windSpeed' | translate }}</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="wind_direction" value="wind_direction" [checked]="selectedColumns.includes('wind_direction')" (change)="toggleColumnManual($event)">
            <label class="form-check-label" for="wind_direction">{{ 'windDirection' | translate }}</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="rain" value="rain" [checked]="selectedColumns.includes('rain')" (change)="toggleColumnManual($event)">
            <label class="form-check-label" for="rain">{{ 'rain' | translate }}</label>
        </div>
        </div>


    <button type="submit" class="btn btn-primary no-padding">Izvozi kot CSV</button>
  </form>
</div>
